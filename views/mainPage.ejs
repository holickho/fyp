<!DOCTYPE html>
<head>

<script src="js/query.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    
</head>

<style>
    body{
        font-family: Comic Sans MS;
    }
    .trbtn {
        height: 90px;
    }

    .trbtn button {
        background-color: white;
        color: #666;
        text-align: center;
        border-radius: 15px;
        padding: 13px;
        width: 240px;
        margin-right: 10px;
        margin-left: 3%;
    }

    .trbtn button:hover {
        background-color: rgb(231, 234, 238);
        color: white;
    }

    .trbtn button:focus {
        background-color: lightsteelblue;
        color: white;
    }

    .trbtn button:active {
        background-color: lightsteelblue;
        color: white;
    }

    .trbtn button:hover {
        background-color: lightsteelblue;
        color: white;
    }

    .trbtn2 {
        height: 90px;
        padding-left: 580px;
    }

    .trbtn2 img {
        text-align: right;
    }

    .column {
        float: left;
        width: 50%;
    }

    /* Clear floats after the columns */
    .row:after {
        content: "";
        display: table;
        clear: both;
        /*border-color: black;*/
        /*border-style: solid;*/
    }

    .modal {
        display: none;
        /* Hidden by default */
        position: fixed;
        /* Stay in place */
        z-index: 1;
        /* Sit on top */
        left: 0;
        top: 0;
        width: 100%;
        /* Full width */
        height: 100%;
        /* Full height */
        overflow: auto;
        /* Enable scroll if needed */
        background-color: rgb(0, 0, 0);
        /* Fallback color */
        background-color: rgba(0, 0, 0, 0.4);
        /* Black w/ opacity */
    }

    /* Modal Content/Box */
    .modal-content {
        background-color: #fefefe;
        margin: 15% auto;
        /* 15% from the top and centered */
        padding: 20px;
        border: 1px solid #888;
        width: 50%;
        /* Could be more or less, depending on screen size */
    }

    /* The Close Button */
    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
    }

    .myBtn button {
        border-radius: 15px;
        padding: 13px;
        width: 240px;
        background-color:black;
        border-color: transparent;
        color: white;
        margin-top: 2%;
    }

    .myBtn button:hover {
        background-color:lightgrey;
        color: black;
    }

    .myBtn button:focus {
        background-color:lightgrey;
        color: black;
    }

    .myBtn button:active {
        background-color:lightgrey;
        color: black;
    }

    .myBtn button:hover {
        background-color:lightgrey;
        color: black;
    }

    .btn3 button {
        background-color: white;
        text-align: center;
        border-radius: 10px;
        padding: 8px;
        width: 12%;
        margin-right: 10px;
        border-style:solid;
        border-color: #aaa;
        border-width: 0.5px;
    }

    .btn3 button:hover {
        background-color: lightsteelblue;
        color: white;
    }

    .btn3 button:focus {
        background-color: lightsteelblue;
        color: white;
    }

    .btn3 button:active {
        background-color: lightsteelblue;
        color: white;
    }
    
    .optionswitch{
        height: 350px;
        width: 650px;
        /*border: 1px solid;*/
        margin-left: 50px;
    }

    .translatetable{
        width: 1350px;
        align-content: center;
        /*border: 1px solid;*/
    }

    /*.translatetable td{

        border: 1px solid;
    }*/

    .outputanalysis {
        width:1350px;
        /*border: 1px solid;*/
    }

    .langbtn {
        background-color:lightsteelblue;
        color: black;
        padding: 8px 30px;
        font-size: 15px;
        border: none;
        outline: none;
        cursor: pointer;
        border-radius: 10px;
    }

    .act{
        background-color: rgb(90, 141, 207);
        color: white;
        box-shadow: 0 8px 8px 0 lightslategrey;
    }

    .langbtn:hover{
        background-color: rgb(233, 206, 206);
        box-shadow: 0 8px 8px 0 lightslategrey;
    }


    /* With Translation Option YES/NO */
    .btn {
        background-color:lightsteelblue;
        color: black;
        padding: 8px 30px;
        font-size: 15px;
        border: none;
        outline: none;
        cursor: pointer;
        border-radius: 10px;
    }

    .active{
        background-color: rgb(90, 141, 207);
        color: white;
        box-shadow: 0 8px 8px 0 lightslategrey;
    }
    .btn:hover{
        background-color: rgb(233, 206, 206);
        box-shadow: 0 8px 8px 0 lightslategrey;
    }

    .optioncontent p{
        font-size: 16px;
        font-family:'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
    }

    .aloption input, label{
        cursor: pointer;
    }



</style>

<body>

<script>
    
        $(document).ready(function () {
            $("#inputTextToSave").on('keyup', function () {
                var words = this.value.length; //count characters
                //var words = this.value.match(/\S+/g).length; //count words
    
                if (words > 500) {
                    // Split the string on first 200 words and rejoin on spaces
                    var trimmed = $(this).val().split(/\s+/, 500).join(" ");
                    // Add a space at the end to make sure more typing creates new words
                    $(this).val(trimmed + " ");
                }
                else {
                    $('#display_count').text(words);
                    $('#word_left').text(500 - words);
                }
            });
        }); 
    </script>

<div style="margin-bottom: 1%;" class="btn3" >
    <button>Text</button>
    <button onclick="modelUploadFile()">Documents</button>
</div>


<table class="translatetable">
    <tr>
        <td width="750px">
            <div class="md-form amber-textarea active-amber-textarea">
                <textarea id="inputTextToSave" class="md-textarea form-control" rows="13" cols="60"
                    placeholder="Enter text here..." style="border-color: black;
                    border-style: solid; border-radius: 6px;"></textarea>
                <span id="display_count">0</span>/ 500 characters
            </div>
        </td>
        <td width="650px">
            <div class="optionswitch">
                <div class="optiondiv">
                    <!-- views/option.ejs -->
                    <div class="optioncontent">
                            <!--- Select Language -->
                            <div>
                                <p>Select your Language</p>
                                <div id="languageoption">
                                    <button id="engBtn" class="langbtn act">ENGLISH</button>&nbsp;
                                    <button id= "engMalayBtn" class="langbtn">ENGLISH - MALAY</button>&nbsp;
                                    <button id= "engChineseBtn" class="langbtn">ENGLISH - CHINESE</button>
                                </div>
                        
                                <script>
                                    // Language Option Stay Active When Clicked
                                    var heads = document.getElementById("languageoption");
                                    var button = heads.getElementsByClassName("langbtn");
                                    for (var j = 0; j < button.length; j++) {
                                        button[j].addEventListener("click", function() {
                                            var currents = document.getElementsByClassName("act");
                                            currents[0].className = currents[0].className.replace(" act", "");
                                            this.className += " act";
                                        });
                                    }
                                </script>
                    
                            </div>
                            
                            <br>
                        
                            <!--- Select With Translation -->
                            <div id="transoption">
                                <p>With Translation ?</p>
                                <button id="yesBtn" class="btn active">YES</button>&nbsp;
                                <button id="noBtn" class="btn">NO</button>
                        
                                <script>
                                    // With Translate Option Stay Active When Clicked
                                    var header = document.getElementById("transoption");
                                    var btns = header.getElementsByClassName("btn");
                                    for (var i = 0; i < btns.length; i++) {
                                        btns[i].addEventListener("click", function() {
                                            var current = document.getElementsByClassName("active");
                                            current[0].className = current[0].className.replace(" active", "");
                                            this.className += " active";
                                        });
                                    }
                                </script>
                                <div id="showdiv">

                                </div>
                                <script>
                                        function myFunction2(){
                                            value1 = document.getElementbyId("engBtn").selected();
                                            value2 = document.getElementbyId("yesBtn").selected();
                                            
                                            if(value1 == true && value2 == true){
                                                document.getElementbyId("showdiv").innerHTML = "This is my paragraph";
                                            }
                                        }
                                </script>
                            </div>
                            
                            <br>
                        
                            <!--- Select Algorithms -->
                            <div class="aloption">
                                <p>Select your Approaches</p>
                                <table>
                                    <tr>
                                        <td width="300px" style="padding: 0px 5px; vertical-align: top;">
                                            <div class="custom-control custom-checkbox">
                                                <div><input type="checkbox" class="custom-control-input" id="supervised" checked>
                                                <label class="custom-control-label" for="supervised">Supervised Learning</label></div>
                                                    
                                                <div><input type="checkbox" class="custom-control-input" id="semi">
                                                <label class="custom-control-label" for="semi">Semi-supervised Learning</label></div>
                                        
                                                <div><input type="checkbox" class="custom-control-input" id="lexi">
                                                <label class="custom-control-label" for="lexi">Lexicon-based Learning</label></div>
                                            </div>
                                        </td>
                                        <td width="300px">
                                            <div class="hehe custom-control custom-checkbox">
                                                <div><input type="checkbox" class="custom-control-input" id="a1" checked>
                                                <label class="custom-control-label" for="a1">Approach 1</label></div>
                                                    
                                                <div><input type="checkbox" class="custom-control-input" id="a2">
                                                <label class="custom-control-label" for="a2">Approach 2</label></div>
                        
                                                <div><input type="checkbox" class="custom-control-input" id="a3">
                                                <label class="custom-control-label" for="a3">Approach 3</label></div>
                        
                                                <div><input type="checkbox" class="custom-control-input" id="a4">
                                                <label class="custom-control-label" for="a4">Approach 4</label></div>
                        
                                                <div><input type="checkbox" class="custom-control-input" id="a5">
                                                <label class="custom-control-label" for="a5">Approach 5</label></div>
                                            </div>
                                        </td>
                                    </tr>
                        
                                    <script>
                                    </script>
                                </table>
                            </div>
                        </div>
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="myModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <form name="form" class="sta-main-form open" action="/uploadfile" method="post" enctype="multipart/form-data">
            <div style="margin-left:40%">
                <label for="file" style="font-size: xx-large;">Choose a document</label></br>
                <p style="margin-left: 4%;">Upload a txt, csv or xml file only</p>
                <input id="file" type="file" name="file" style="margin-left: 7%;" /></br></br>
                <button type="submit" value="upload" onclick="return validate();" class="btn btn-info btn-rounded"
                    style="background-color:lightsteelblue;border-color:transparent;color: black;width:30%;margin-top:0.5%;margin-left:5%">Upload
                    File</button>
            </div>
        </form>

        <script type="text/javascript">
            function validate() {
                var file = form.file.value;
                var reg = /^([a-zA-Z0-9\s_\\.\-:])+(.csv|.txt|.xml)$/;
                if (!file.match(reg)) {
                    alert("Invalid File");
                    return false;
                }
                else
                    alert("File Uploaded");

                var fileToLoad = document.getElementById("file").files[0];

                var fileReader = new FileReader();
                fileReader.onload = function (fileLoadedEvent) {
                    var textFromFileLoaded = fileLoadedEvent.target.result;
                    document.getElementById("inputTextToSave").value = textFromFileLoaded;
                };

                fileReader.readAsText(fileToLoad, "UTF-8");
            }

            function modelUploadFile() {

                modal.style.display = "block";
            }

            // Get the modal
            var modal = document.getElementById("myModal");

            // Get the button that opens the modal
            var btn = document.getElementById("myBtn");

            // Get the <span> element that closes the modal
            var span = document.getElementsByClassName("close")[0];

            // When the user clicks on the button, open the modal

            // When the user clicks on <span> (x), close the modal
            span.onclick = function () {
                modal.style.display = "none";
            }

            // When the user clicks anywhere outside of the modal, close it
            window.onclick = function (event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        </script>
    </div>
</div>
<div class="myBtn" style="text-align: center;">
        <button onclick="showLoad()">ANALYZE</button>
</div>

<br>

<div class="outputanalysis" style="width: 1350px; border: 1px solid;  border-radius: 6px;">
    <!-- views/result.ejs -->
    <% include ../views/emoji %>
</div>

<div >
        <iframe src="http://127.0.0.1:5500/views/showdata.html" style="width:100%"></iframe>

 </div>


</body>

<!--Loading Images-->
<div id="load" class="d-flex justify-content-center">
        <div class="spinner-grow text-primary" role="status" style="height: 20px; width: 20px;"></div>&nbsp;&nbsp;
        <div class="spinner-grow text-primary" role="status" style="height: 20px; width: 20px;"></div>&nbsp;&nbsp;
        <div class="spinner-grow text-primary" role="status" style="height: 20px; width: 20px;"></div>
</div>

<!--Loading Script-->
<script>
    function showLoad(){
        varx = document.getElementsById("load");
        x.style.visibility = "hidden";
    }
</script>
</html>